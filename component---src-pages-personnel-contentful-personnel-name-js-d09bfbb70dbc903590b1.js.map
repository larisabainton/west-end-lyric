{"version":3,"file":"component---src-pages-personnel-contentful-personnel-name-js-d09bfbb70dbc903590b1.js","mappings":"qOA0EA,UAvBsB,IAAe,IAAd,KAAEA,GAAM,EAC3B,MAAM,IAAEC,EAAG,SAAEC,EAAQ,KAAEC,GAASH,EAAKI,oBAC/BC,EAAQL,EAAKM,kBAAkBC,MAC/BC,EAAaR,EAAKS,mBAAmBF,MAE3C,OACI,gBAAC,IAAM,KACH,wBAAMG,UAAU,kBACZ,uBAAKA,UAAU,2BACX,gBAAC,EAAAC,EAAW,CAACC,OAAOC,EAAAA,EAAAA,GAASX,GAAWQ,UAAU,oBAAoBI,IAAQX,EAAI,cAClF,uBAAKO,UAAU,kBACX,uBAAKA,UAAU,kBAAkBP,GApDrCY,KAChB,GAAIA,EACJ,OACI,uBAAKL,UAAU,aAAaK,EAASC,SACxC,EAiDoBC,CAAYjB,EAAKkB,wBA5BrBb,KACjB,GAAIA,EAAMc,OACN,OACA,sBAAIT,UAAU,kBACV,uBAAKA,UAAU,2BAA0B,SACxCL,EAAMe,KAAI,CAAC,EAAqBC,KAAO,IAA5B,SAAEC,EAAQ,MAAEC,GAAO,EAC3B,MAAMC,EAAiBD,EAAM,GAAGE,WAAW,GAAGtB,KACxCuB,EAAO,IAAIC,KAAKJ,EAAM,GAAGK,WAAWC,cAE1C,OACI,sBAAInB,UAAU,iBAAiBoB,IAAG,kBAAoBT,GAAMC,EAAS,OAAKE,EAAe,KAAGE,EAAU,IAGrH,EAkBYK,CAAa1B,GAjDTG,KACjB,GAAIA,EAAWW,OACX,OACI,sBAAIT,UAAU,kBACV,uBAAKA,UAAU,2BAA0B,sBACxCF,EAAWY,KAAI,CAAC,EAAsBC,KAAO,IAA7B,WAAEI,EAAU,MAAEO,GAAM,EACjC,MAAMR,EAAiBC,EAAW,GAAGtB,KAC/BuB,EAAO,IAAIC,KAAKF,EAAW,GAAGQ,OAAO,GAAGL,WAAWC,cAEzD,OACI,sBAAInB,UAAU,kBAAkBoB,IAAG,mBAAqBT,GAAMW,EAAM,OAAKR,EAAe,KAAGE,EAAU,IAIzH,EAoCaQ,CAAa1B,GACd,uBAAKE,UAAU,kBAAiByB,EAAAA,EAAAA,GAAelC,KAE9C,EAMV,MAAMmC,EAAO,QAAC,KAAEpC,GAAM,SAAK,iDAA4BA,EAAKI,oBAAoBD,KAAe,C","sources":["webpack://gatsby-starter-minimal/./src/pages/personnel/{ContentfulPersonnel.name}.js"],"sourcesContent":["import React from \"react\";\nimport '../../style/main.scss';\nimport '@fortawesome/fontawesome-svg-core/styles.css';\n\nimport { graphql } from \"gatsby\";\nimport { renderRichText } from 'gatsby-source-contentful/rich-text';\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nimport Layout from \"../../components/layout\";\n\nconst displayTeam = teamRole => {\n    if (teamRole) {\n    return (\n        <div className=\"team-role\">{teamRole.jobTitle}</div>\n    )}\n}\n\nconst displayStaff = staffArray => {\n    if (staffArray.length) {\n        return (\n            <ul className=\"personnel-list\">\n                <div className=\"personnel-section-title\">Creative Direction</div>\n                {staffArray.map(({ production, title}, i) => {\n                    const productionName = production[0].name;\n                    const year = new Date(production[0].events[0].eventDate).getFullYear();\n\n                    return (\n                        <li className=\"personnel_staff\" key={`personnel_staff-${i}`}>{title} in {productionName}, {year}</li>\n                    )\n                })}\n            </ul>)\n    }\n    \n}\n\nconst displayRoles = roles => {\n    if (roles.length) {\n        return (\n        <ul className=\"personnel-list\">\n            <div className=\"personnel-section-title\">Roles</div>\n            {roles.map(({ roleName, event }, i) => {\n                const productionName = event[0].production[0].name;\n                const year = new Date(event[0].eventDate).getFullYear();\n\n                return (\n                    <li className=\"personnel_role\" key={`personnel_role-${i}`}>{roleName} in {productionName}, {year}</li>\n                )})}\n        </ul>\n    )}\n};\n\nconst PersonnelPage = ({ data }) => {\n    const { bio, headshot, name } = data.contentfulPersonnel;\n    const roles = data.allContentfulRole.nodes;\n    const staffArray = data.allContentfulStaff.nodes;\n\n    return (\n        <Layout>\n            <main className=\"personnel-page\">\n                <div className=\"personnel-headshot-name\">\n                    <GatsbyImage image={getImage(headshot)} className=\"circular-headshot\" alt={`${name} headshot`}/>\n                    <div className=\"personnel-info\">\n                        <div className=\"personnel-name\">{name}</div>\n                        {displayTeam(data.contentfulTeamMember)}\n                    </div>\n                </div>\n                {displayRoles(roles)}\n                {displayStaff(staffArray)}\n                <div className=\"personnel-bio\">{renderRichText(bio)}</div>\n            </main>\n        </Layout>\n    )\n}\n\nexport default PersonnelPage;\n\nexport const Head = ({ data }) => <title>{`West End Lyric | ${data.contentfulPersonnel.name}`}</title>\n\nexport const query = graphql`\n    query ($id: String!) {\n        contentfulPersonnel(id : {eq: $id}) {\n            name\n            id\n            bio {\n                raw\n            }\n            headshot {\n                gatsbyImageData\n            }\n        }\n        allContentfulRole(\n            filter: {castMember: { id: { eq: $id}}}) {\n            nodes {\n                roleName\n                event {\n                  eventDate\n                  production {\n                    name\n                  }\n                }\n                castMember {\n                  id\n                }\n              }\n        }\n        allContentfulStaff(filter: {personnel: {id: {eq: $id}}}) {\n            nodes {\n              title\n              production {\n                name\n                events {\n                  eventDate\n                }\n              }\n            }\n          }\n        contentfulTeamMember(personnel: {id: {eq: $id}}) {\n            jobTitle\n        }\n        \n    }`"],"names":["data","bio","headshot","name","contentfulPersonnel","roles","allContentfulRole","nodes","staffArray","allContentfulStaff","className","G","image","getImage","alt","teamRole","jobTitle","displayTeam","contentfulTeamMember","length","map","i","roleName","event","productionName","production","year","Date","eventDate","getFullYear","key","displayRoles","title","events","displayStaff","renderRichText","Head"],"sourceRoot":""}