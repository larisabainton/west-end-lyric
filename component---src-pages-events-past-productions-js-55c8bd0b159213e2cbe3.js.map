{"version":3,"file":"component---src-pages-events-past-productions-js-55c8bd0b159213e2cbe3.js","mappings":"2NA4BA,UAtB4B,IAAe,IAAd,KAAEA,GAAM,EACjC,MAAMC,EAAmBD,EAAKE,wBAAwBC,MAChDC,EAAaJ,EAAKK,YAAYC,MAG9BC,EAAkBN,EAAiBO,QAAO,QAAC,OAAEC,GAAQ,SAAKA,EAAOC,OAAM,QAAC,UAAEC,GAAW,SAAM,IAAIC,KAAKD,GAAWE,WAAY,IAAID,MAAOC,UAAa,CAAC,GAAC,IAE3J,OACI,gBAAC,IAAM,KACH,wBAAMC,UAAU,yBACZ,uBAAKA,UAAU,iBAAgB,oBAC/B,sBAAIA,UAAU,yBACTP,EAAgBQ,KAAI,CAAC,EAAcC,KAAO,IAArB,KAAEC,EAAI,GAAEC,GAAI,EAC9B,MAAMC,GAAWC,EAAAA,EAAAA,GAAqBF,EAAId,GAC1C,OAAO,sBAAIU,UAAU,6BAA6BO,IAAG,cAAgBL,GAAK,gBAAC,EAAAM,KAAI,CAACC,GAAKJ,GAAWF,GAAiB,MAIxH,EAMV,MAAMO,EAAO,IAAM,6BAAO,oC","sources":["webpack://gatsby-starter-minimal/./src/pages/events/past-productions.js"],"sourcesContent":["import React from \"react\";\nimport '../../style/main.scss';\nimport Layout from \"../../components/layout\";\nimport { Link, graphql } from \"gatsby\";\nimport getPathForProduction from \"../../functions/getPathForProduction\";\n\nconst PastProductionsPage = ({ data }) => {\n    const productionsArray = data.allContentfulProduction.nodes;\n    const pagesArray = data.allSitePage.edges;\n    \n    // find all productions where every event has occurred in the past\n    const pastProductions = productionsArray.filter(({ events }) => events.every(({ eventDate }) => (new Date(eventDate).getTime() - new Date().getTime()) < 0))\n\n    return (\n        <Layout>\n            <main className=\"past-productions_page\">\n                <div className=\"section-title\">Past Productions</div>\n                <ul className=\"past-productions_list\">\n                    {pastProductions.map(({ name, id }, i) => {\n                        const linkPath = getPathForProduction(id, pagesArray)\n                        return <li className=\"past-productions_list-item\" key={`production-${i}`}><Link to ={linkPath}>{name}</Link></li>\n                    })}\n                </ul>\n            </main>\n        </Layout>\n    )\n};\n\nexport default PastProductionsPage;\n\nexport const Head = () => <title>West End Lyric | Past Productions</title>\n\nexport const query = graphql`\nquery PastProductionsQuery {\n    allSitePage(filter: {path: {regex: \"/events/\"}}) {\n      edges {\n        node {\n          path\n          pageContext\n        }\n      }\n    }\n    allContentfulProduction {\n      nodes {\n          name\n          id\n          events {\n              eventDate\n          }\n      }\n    }\n  }\n`"],"names":["data","productionsArray","allContentfulProduction","nodes","pagesArray","allSitePage","edges","pastProductions","filter","events","every","eventDate","Date","getTime","className","map","i","name","id","linkPath","getPathForProduction","key","Link","to","Head"],"sourceRoot":""}